[mypy]
# Mypy Configuration for Synthora Backend
# https://mypy.readthedocs.io/en/stable/config_file.html

# Python version
python_version = 3.11

# Strict mode settings
strict = false
warn_return_any = true
warn_unused_configs = true
warn_redundant_casts = true
warn_unused_ignores = true
check_untyped_defs = true
disallow_untyped_defs = false
disallow_incomplete_defs = true

# Error output
show_error_codes = true
show_column_numbers = true
pretty = true

# Import discovery
ignore_missing_imports = true
follow_imports = normal

# Namespace packages
namespace_packages = true
explicit_package_bases = true

# Plugins
plugins = [
    "pydantic.mypy",
    "sqlalchemy.ext.mypy.plugin"
]

# Exclude patterns
exclude = [
    "alembic/",
    "tests/",
    "venv/",
    ".venv/",
]

# Per-module settings
[mypy-tests.*]
ignore_errors = true

[mypy-alembic.*]
ignore_errors = true

# Third-party libraries without stubs
[mypy-firebase_admin.*]
ignore_missing_imports = true

[mypy-google.*]
ignore_missing_imports = true

[mypy-rq.*]
ignore_missing_imports = true

[mypy-stripe.*]
ignore_missing_imports = true

[mypy-httpx.*]
ignore_missing_imports = true

# Pydantic plugin settings
[pydantic-mypy]
init_forbid_extra = true
init_typed = true
warn_required_dynamic_aliases = true

